v {xschem version=3.4.5 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
T {3v3 Power Gate} 380 -190 0 0 0.4 0.4 {}
N -130 -480 -110 -480 {
lab=ctrl}
N -130 -480 -130 -380 {
lab=ctrl}
N -130 -380 -110 -380 {
lab=ctrl}
N -70 -350 -70 -330 {
lab=VGND}
N -70 -530 -70 -510 {
lab=VDPWR}
N -70 -450 -70 -410 {
lab=ctrl_n}
N 560 -400 560 -360 {
lab=#net1}
N 780 -400 780 -360 {
lab=#net2}
N 560 -380 620 -380 {
lab=#net1}
N 620 -380 700 -430 {
lab=#net1}
N 700 -430 740 -430 {
lab=#net1}
N 600 -430 640 -430 {
lab=#net2}
N 640 -430 720 -380 {
lab=#net2}
N 720 -380 780 -380 {
lab=#net2}
N 500 -260 780 -260 {
lab=VGND}
N 780 -300 780 -260 {
lab=VGND}
N 560 -300 560 -260 {
lab=VGND}
N 480 -330 520 -330 {
lab=ctrl_n}
N 820 -330 860 -330 {
lab=ctrl}
N 560 -500 560 -460 {
lab=#net3}
N 780 -500 780 -460 {
lab=#net4}
N 780 -380 820 -380 {
lab=#net2}
N 820 -380 840 -380 {
lab=#net2}
N 840 -530 840 -380 {
lab=#net2}
N 820 -530 840 -530 {
lab=#net2}
N 500 -380 560 -380 {
lab=#net1}
N 500 -530 500 -380 {
lab=#net1}
N 500 -530 520 -530 {
lab=#net1}
N 560 -600 560 -560 {
lab=VAPWR}
N 560 -600 780 -600 {
lab=VAPWR}
N 780 -600 780 -560 {
lab=VAPWR}
N 500 -600 560 -600 {
lab=VAPWR}
N 940 -530 960 -530 {
lab=#net2}
N 940 -530 940 -330 {
lab=#net2}
N 940 -330 960 -330 {
lab=#net2}
N 840 -430 940 -430 {
lab=#net2}
N 780 -600 1000 -600 {
lab=VAPWR}
N 1000 -600 1000 -560 {
lab=VAPWR}
N 780 -260 1000 -260 {
lab=VGND}
N 1000 -300 1000 -260 {
lab=VGND}
N 1000 -500 1000 -360 {
lab=H_ctrl}
N 1000 -430 1040 -430 {
lab=H_ctrl}
N 400 -430 500 -430 {
lab=#net1}
N 380 -530 400 -530 {
lab=#net1}
N 380 -330 400 -330 {
lab=#net1}
N 400 -530 400 -330 {
lab=#net1}
N 340 -500 340 -360 {
lab=H_ctrl_n}
N 220 -260 500 -260 {
lab=VGND}
N 340 -300 340 -260 {
lab=VGND}
N 220 -600 500 -600 {
lab=VAPWR}
N 340 -600 340 -560 {
lab=VAPWR}
N 300 -430 340 -430 {
lab=H_ctrl_n}
N -70 -330 -70 -260 {
lab=VGND}
N -70 -600 -70 -530 {
lab=VDPWR}
N 1200 -600 1360 -600 {
lab=VAPWR}
N 1390 -560 1390 -520 {
lab=pmos_gate}
N 1420 -600 1490 -600 {
lab=GAPWR}
N 1200 -260 1460 -260 {
lab=VGND}
N 1490 -600 1550 -600 {
lab=GAPWR}
N 1460 -260 1500 -260 {
lab=VGND}
N 1500 -300 1500 -260 {
lab=VGND}
N 1140 -530 1160 -530 {
lab=H_ctrl}
N 1140 -530 1140 -330 {
lab=H_ctrl}
N 1140 -330 1160 -330 {
lab=H_ctrl}
N 1200 -300 1200 -260 {
lab=VGND}
N 1200 -500 1200 -360 {
lab=pmos_gate}
N 1200 -430 1240 -430 {
lab=pmos_gate}
N 1000 -600 1200 -600 {
lab=VAPWR}
N 1200 -600 1200 -560 {
lab=VAPWR}
N 1000 -260 1200 -260 {
lab=VGND}
N 1040 -430 1140 -430 {
lab=H_ctrl}
N 1240 -430 1390 -430 {
lab=pmos_gate}
N 1390 -520 1390 -430 {
lab=pmos_gate}
N 1550 -600 1760 -600 {
lab=GAPWR}
N 180 -600 220 -600 {
lab=VAPWR}
N -150 -430 -130 -430 {
lab=ctrl}
N -70 -430 -30 -430 {
lab=ctrl_n}
N -30 -430 -10 -430 {
lab=ctrl_n}
N -150 -260 -70 -260 {
lab=VGND}
N -150 -600 -70 -600 {
lab=VDPWR}
N 160 -600 160 -460 {
lab=VAPWR}
N 140 -600 180 -600 {
lab=VAPWR}
N -70 -260 220 -260 {
lab=VGND}
N 160 -400 160 -260 {
lab=VGND}
N 1500 -390 1500 -360 {
lab=#net5}
N 1640 -390 1640 -360 {
lab=#net6}
N 1640 -300 1640 -260 {
lab=VGND}
N 1500 -260 1640 -260 {
lab=VGND}
N 1460 -330 1600 -330 {
lab=H_ctrl_n}
N 1460 -420 1600 -420 {
lab=H_ctrl_n}
N 1440 -420 1460 -420 {
lab=H_ctrl_n}
N 1440 -420 1440 -330 {
lab=H_ctrl_n}
N 1440 -330 1460 -330 {
lab=H_ctrl_n}
N 1400 -330 1440 -330 {
lab=H_ctrl_n}
N 1500 -470 1500 -450 {
lab=#net7}
N 1500 -470 1640 -470 {
lab=#net7}
N 1640 -470 1640 -450 {
lab=#net7}
N 1760 -600 1900 -600 {
lab=GAPWR}
N 1830 -600 1830 -460 {
lab=GAPWR}
N 1640 -260 1830 -260 {
lab=VGND}
N 1830 -400 1830 -260 {
lab=VGND}
N 1500 -600 1500 -560 {
lab=GAPWR}
N 1500 -500 1500 -470 {
lab=#net7}
C {devices/title.sym} 160 -30 0 0 {name=l1 author="Sylvain Munaut"}
C {devices/iopin.sym} 1900 -600 0 0 {name=p6 lab=GAPWR sim_pinnumber=5}
C {devices/ipin.sym} -150 -430 2 1 {name=p5 lab=ctrl sim_pinnumber=4}
C {sky130_fd_pr/pfet3_g5v0d10v5.sym} 980 -530 0 0 {name=M1
W=0.84
L=0.5
body=VAPWR
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet3_g5v0d10v5.sym} 980 -330 0 0 {name=M2
W=0.42
L=0.5
body=VGND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet3_g5v0d10v5.sym} 360 -530 0 1 {name=M3
W=0.84
L=0.5
body=VAPWR
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet3_g5v0d10v5.sym} 360 -330 0 1 {name=M4
W=0.42
L=0.5
body=VGND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet3_g5v0d10v5.sym} 1390 -580 3 0 {name=M5
W=3151
L=0.5
body=VAPWR
nf=274
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {devices/iopin.sym} -150 -260 2 0 {name=p8 lab=VGND sim_pinnumber=1}
C {devices/iopin.sym} -150 -600 2 0 {name=p9 lab=VDPWR sim_pinnumber=2}
C {sky130_fd_pr/nfet3_01v8.sym} -90 -380 0 0 {name=M7
W=0.42
L=0.15
body=VGND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet3_01v8_hvt.sym} -90 -480 0 0 {name=M8
W=1
L=0.15
body=VDPWR
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_hvt
spiceprefix=X
}
C {devices/lab_wire.sym} -10 -430 0 1 {name=p10 sig_type=std_logic lab=ctrl_n}
C {sky130_fd_pr/nfet3_g5v0d10v5.sym} 540 -330 0 0 {name=M9
W=0.42
L=0.5
body=VGND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet3_g5v0d10v5.sym} 800 -330 0 1 {name=M10
W=0.42
L=0.5
body=VGND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet3_g5v0d10v5.sym} 580 -430 0 1 {name=M11
W=0.42
L=0.5
body=VAPWR
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet3_g5v0d10v5.sym} 760 -430 0 0 {name=M12
W=0.42
L=0.5
body=VAPWR
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet3_g5v0d10v5.sym} 540 -530 0 0 {name=M13
W=0.42
L=0.5
body=VAPWR
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet3_g5v0d10v5.sym} 800 -530 0 1 {name=M14
W=0.42
L=0.5
body=VAPWR
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_wire.sym} 860 -330 0 1 {name=p12 sig_type=std_logic lab=ctrl}
C {devices/lab_wire.sym} 480 -330 0 0 {name=p13 sig_type=std_logic lab=ctrl_n}
C {devices/iopin.sym} 140 -600 2 0 {name=p14 lab=VAPWR sim_pinnumber=3}
C {devices/lab_wire.sym} 1040 -430 0 1 {name=p1 sig_type=std_logic lab=H_ctrl}
C {devices/lab_wire.sym} 300 -430 0 0 {name=p2 sig_type=std_logic lab=H_ctrl_n}
C {sky130_fd_pr/nfet3_g5v0d10v5.sym} 1480 -330 0 0 {name=M6
W=1
L=1
body=VGND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/cap_mim_m3_1.sym} 160 -430 0 0 {name=C1 model=cap_mim_m3_1 W=9.8 L=19.4 MF=2 spiceprefix=X}
C {sky130_fd_pr/cap_mim_m3_1.sym} 1830 -430 0 0 {name=C2 model=cap_mim_m3_1 W=9.8 L=19.4 MF=4 spiceprefix=X}
C {sky130_fd_pr/pfet3_g5v0d10v5.sym} 1180 -530 0 0 {name=M15
W=16
L=0.5
body=VAPWR
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet3_g5v0d10v5.sym} 1180 -330 0 0 {name=M16
W=6
L=0.5
body=VGND
nf=2
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_wire.sym} 1240 -430 0 1 {name=p3 sig_type=std_logic lab=pmos_gate}
C {sky130_fd_pr/nfet3_g5v0d10v5.sym} 1620 -330 0 0 {name=M17
W=1
L=1
body=VGND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet3_g5v0d10v5.sym} 1480 -420 0 0 {name=M18
W=1
L=1
body=VGND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet3_g5v0d10v5.sym} 1620 -420 0 0 {name=M19
W=1
L=1
body=VGND
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_wire.sym} 1400 -330 0 0 {name=p4 sig_type=std_logic lab=H_ctrl_n}
C {devices/ammeter.sym} 1500 -530 0 0 {name=Vdischg savecurrent=true spice_ignore=0 lvs_ignore=short}
